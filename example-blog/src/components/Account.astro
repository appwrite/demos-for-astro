---
import NavLink from "./NavLink.astro";
---

<script>
  // Check if user has session
  import { isLoggedIn } from "../lib/appwrite";

  const loginElement: HTMLElement | null = document.querySelector("#login");
  const accountElement: HTMLElement | null = document.querySelector("#account");

  isLoggedIn.subscribe((user) => {
    if (!accountElement || !loginElement) return;
    if (user) {
      loginElement.style.display = "none";
      accountElement.style.display = "block";
    } else {
      loginElement.style.display = "block";
      accountElement.style.display = "none";
    }
  });
</script>

<div id="login">
  <NavLink href="/account/login">
    <span class="icon-user" aria-hidden="true"></span>
    <span class="text">Login</span>
  </NavLink>
</div>
<div id="account">
  <NavLink href="/account">
    <span class="icon-user" aria-hidden="true"></span>
    <span class="text">Account</span>
  </NavLink>
</div>
